# ☁ (대)댓글 조회

## 📖 1차 구현 시나리오

1. 페이징 사용 X
2. 한 번에 댓글과 대댓글 모두 가져오기

<br>

## 💥 문제점 & 고민

- 100개 이상 댓글 가진 게시글 조회 시 한 번에 가져와야 하므로 비효율적

<br>

## 💡 해결

- 페이징 사용해보자!

<br>

---

<br>

## 📖 2차 구현 시나리오

1. 페이징 사용 O
2. 페이지 당 100개의 댓글을 보여주자

<br>

## 💥 문제점 & 고민

- 페이징을 사용하여 한 페이지에 몇 개의 댓글을 보여줘야 하는지 고민 필요
  - 페이지 당 100개의 (대)댓글 조회?
  - 어떻게 카운팅하여 댓글과 대댓글 포함하여 100개 조회하도록 구현하는지?

<br>

## 💡 해결

- 최상위 댓글을 100개로 지정

<br>

---

<br>

ver 2024-01-29

## 📖 3차 구현 시나리오

1. 페이징 사용 O
2. 페이지 당 100개의 최상위 댓글을 보여주자

<br>

## 💥 문제점 & 고민

-

## 💡 해결

-

---

- 댓글 정렬은 오름차순? 내림차순?

```
1: 최 상위 댓글

ㄴ 3: 댓글 1-3

ㄴ -- -- 5: 댓글 1-3-5

ㄴ 4: 댓글 1-4


2: 최 상위 댓글

ㄴ 7: 댓글 2-7


6: 최 상위 댓글

ㄴ 8: 댓글 6-8


9: 최 상위 댓글

ㄴ 10: 댓글 9-10
```

다음과 같은 댓글이 있다. 맨 앞의 숫자는 댓글의 id를 의미한다.

만약 Pageable의 size가 2라고 해보자.

1. 먼저 DB에서 댓글 id 내림차순으로 데이터를 가져오고
2. 같은 페이지에 있는 데이터가 다시 오름차순으로 보여주고 싶었다.

```
6: 최 상위 댓글

ㄴ 8: 댓글 6-8


9: 최 상위 댓글

ㄴ 10: 댓글 9-10
```

그러나 예상과 다르게 같은 페이지에 있는 데이터인 경우 id 내림차순으로 보여준다.

```
9: 최 상위 댓글

ㄴ 10: 댓글 9-10


6: 최 상위 댓글

ㄴ 8: 댓글 6-8
```
